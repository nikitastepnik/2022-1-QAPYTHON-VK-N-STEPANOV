{"uuid": "be9429ea-f633-405d-bfd1-01b4584a8bc6", "children": ["85784d0e-c440-4d3b-a21a-a29e851009ad"], "befores": [{"name": "setup", "status": "broken", "statusDetails": {"message": "requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=8086): Max retries exceeded with url: /login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f1e60ff8a30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n", "trace": "  File \"/usr/local/lib/python3.8/site-packages/pluggy/_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"/usr/local/lib/python3.8/site-packages/_pytest/fixtures.py\", line 1122, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/_pytest/fixtures.py\", line 924, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/final_project/code/api_myapp/test/base_api.py\", line 15, in setup\n    self.api_client.auth_login_cookies()\n  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 25, in auth_login_cookies\n    return self._request(method=\"POST\", location=\"/login\", headers=self.session.headers,\n  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 37, in _request\n    response = self.session.request(method=method, url=url, headers=headers, data=data,\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 529, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 645, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\n"}, "steps": [{"name": "Выполняем коннект к БД и возвращаем объект соединения", "status": "passed", "start": 1653168754192, "stop": 1653168754192}, {"name": "Выполняем инициализацию API-client'a", "status": "passed", "start": 1653168754192, "stop": 1653168754192}, {"name": "Авторизуемся по стабильным данным - выполянем POST запрос /login", "status": "broken", "statusDetails": {"message": "requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=8086): Max retries exceeded with url: /login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f1e60ff8a30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n", "trace": "  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 25, in auth_login_cookies\n    return self._request(method=\"POST\", location=\"/login\", headers=self.session.headers,\n  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 37, in _request\n    response = self.session.request(method=method, url=url, headers=headers, data=data,\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 529, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 645, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\n"}, "steps": [{"name": "Выполняем запрос", "status": "broken", "statusDetails": {"message": "requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=8086): Max retries exceeded with url: /login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f1e60ff8a30>: Failed to establish a new connection: [Errno 111] Connection refused'))\n", "trace": "  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 37, in _request\n    response = self.session.request(method=method, url=url, headers=headers, data=data,\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 529, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 645, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\n"}, "parameters": [{"name": "method", "value": "'POST'"}, {"name": "location", "value": "'/login'"}, {"name": "headers", "value": "{}"}, {"name": "data", "value": "{'username': 'nikita', 'password': 'test'}"}, {"name": "params", "value": "None"}, {"name": "json", "value": "False"}], "start": 1653168754192, "stop": 1653168754193}], "parameters": [{"name": "data", "value": "None"}], "start": 1653168754192, "stop": 1653168754193}], "start": 1653168754192, "stop": 1653168754194}], "start": 1653168754192, "stop": 1653168754295}