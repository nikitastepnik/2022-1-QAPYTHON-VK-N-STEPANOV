{"uuid": "377f7023-b307-4686-9fee-75d333cb8746", "children": ["68f9a6cb-abf3-4534-9403-62981e84a200"], "befores": [{"name": "setup", "status": "broken", "statusDetails": {"message": "requests.exceptions.ConnectionError: HTTPConnectionPool(host='my_app', port=8086): Max retries exceeded with url: /login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe00c2339a0>: Failed to establish a new connection: [Errno -2] Name or service not known'))\n", "trace": "  File \"/usr/local/lib/python3.8/site-packages/pluggy/_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"/usr/local/lib/python3.8/site-packages/_pytest/fixtures.py\", line 1122, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/_pytest/fixtures.py\", line 924, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/final_project/code/api_myapp/test/base_api.py\", line 17, in setup\n    self.api_client.auth_login_cookies()\n  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 27, in auth_login_cookies\n    return self._request(method=\"POST\", location=\"/login\", headers=self.session.headers,\n  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 39, in _request\n    response = self.session.request(method=method, url=url, headers=headers, data=data,\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 529, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 645, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\n"}, "steps": [{"name": "Выполняем коннект к БД и возвращаем объект соединения", "status": "passed", "start": 1653174551926, "stop": 1653174551926}, {"name": "Выполняем инициализацию API-client'a", "status": "passed", "start": 1653174551927, "stop": 1653174551927}, {"name": "Авторизуемся по стабильным данным - выполянем POST запрос /login", "status": "broken", "statusDetails": {"message": "requests.exceptions.ConnectionError: HTTPConnectionPool(host='my_app', port=8086): Max retries exceeded with url: /login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe00c2339a0>: Failed to establish a new connection: [Errno -2] Name or service not known'))\n", "trace": "  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 27, in auth_login_cookies\n    return self._request(method=\"POST\", location=\"/login\", headers=self.session.headers,\n  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 39, in _request\n    response = self.session.request(method=method, url=url, headers=headers, data=data,\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 529, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 645, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\n"}, "steps": [{"name": "Выполняем запрос", "status": "broken", "statusDetails": {"message": "requests.exceptions.ConnectionError: HTTPConnectionPool(host='my_app', port=8086): Max retries exceeded with url: /login (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fe00c2339a0>: Failed to establish a new connection: [Errno -2] Name or service not known'))\n", "trace": "  File \"/usr/local/lib/python3.8/site-packages/allure_commons/_allure.py\", line 172, in impl\n    return func(*a, **kw)\n  File \"/final_project/code/api_myapp/api_client.py\", line 39, in _request\n    response = self.session.request(method=method, url=url, headers=headers, data=data,\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 529, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/sessions.py\", line 645, in send\n    r = adapter.send(request, **kwargs)\n  File \"/usr/local/lib/python3.8/site-packages/requests/adapters.py\", line 519, in send\n    raise ConnectionError(e, request=request)\n"}, "parameters": [{"name": "method", "value": "'POST'"}, {"name": "location", "value": "'/login'"}, {"name": "headers", "value": "{}"}, {"name": "data", "value": "{'username': 'nikita', 'password': 'test'}"}, {"name": "params", "value": "None"}, {"name": "json", "value": "False"}], "start": 1653174551927, "stop": 1653174551933}], "parameters": [{"name": "data", "value": "None"}], "start": 1653174551927, "stop": 1653174551934}], "start": 1653174551926, "stop": 1653174551934}], "start": 1653174551926, "stop": 1653174552080}